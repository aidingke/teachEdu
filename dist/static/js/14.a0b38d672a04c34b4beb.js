webpackJsonp([14],{MIRU:function(e,t){},vDDV:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Xxa5"),n=s.n(a),r=s("exGp"),c=s.n(r),o={name:"Student",data:function(){return{classId:"",delStuId:"",teachName:"",handleStatus:"",deleteGroupDialog:!1,renderList:[],selectCheckBox:[]}},methods:{goBack:function(){this.$route.query.groupId?this.$router.push({path:"./GroupMembers?groupId="+this.$route.query.groupId+"&matchStatus="+this.$route.query.matchStatus+"&matchId="+this.$route.query.matchId}):"add"==this.$route.query.stu?this.$router.push({path:"SelectClass"}):this.$router.back(-1)},getStuList:function(){var e=this;return c()(n.a.mark(function t(){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(s={}).classId=e.classId,t.next=4,e.$axios.getStuList(s);case 4:1e3==(a=t.sent).code&&(e.teachName=a.data.teachName,e.renderList=a.data.stuList||[]);case 6:case"end":return t.stop()}},t,e)}))()},onAddMembers:function(){this.$router.push({path:"ClassStuEdit?classId="+this.classId})},onViewPersonInfo:function(e){this.$router.push({path:"ClassStuEdit?inputUserId="+e+"&classId="+this.classId})},onDeleteGroupMembers:function(e){this.deleteGroupDialog=!0,this.delStuId=e},onDeterMine:function(){var e=this;return c()(n.a.mark(function t(){var s,a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(s={}).stuId=e.delStuId,s.classId=e.classId,t.next=5,e.$axios.delClassStu(s);case 5:1e3===t.sent.code&&(a=e,e.renderList=e.renderList.filter(function(e){return e.stuId!=a.delStuId}),e.deleteGroupDialog=!1,e.delStuId="");case 7:case"end":return t.stop()}},t,e)}))()},onCancelDel:function(){this.deleteGroupDialog=!1,this.delStuId=""},onAddGroupNum:function(){var e=this;return c()(n.a.mark(function t(){var s,a,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e.selectCheckBox.length){t.next=4;break}e.$message({message:"请添加组员",type:"warning",center:!0,duration:1e3}),t.next=12;break;case 4:return s=e.selectCheckBox,(a={}).groupId=e.$route.query.groupId,a.stuId=s.toString(),t.next=10,e.$axios.addMathSchoolStu(a);case 10:1e3==(r=t.sent).code?e.successMsg("添加成功",function(){e.$router.push({path:"./GroupMembers?groupId="+e.$route.query.groupId+"&matchStatus="+e.$route.query.matchStatus+"&matchId="+e.$route.query.matchId})}):e.dialog(r.message);case 12:case"end":return t.stop()}},t,e)}))()}},mounted:function(){this.classId=this.$route.query.classId,this.$route.query.groupId?this.handleStatus=0:this.handleStatus=1,this.getStuList()}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"student"},[s("Header",{attrs:{title:"学生"},on:{goBack:e.goBack}}),s("div",{staticClass:"container"},[s("nav",[s("span",{staticClass:"left"},[e._v("班主任： "+e._s(e.teachName))])]),e.renderList.length>0?s("ul",e._l(e.renderList,function(t,a){return s("li",{key:t.stuId},[0==e.handleStatus?s("span",{staticClass:"el-checkbox__input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.selectCheckBox,expression:"selectCheckBox"}],staticClass:"access-checkbox",attrs:{id:"chk_"+t.stuId,type:"checkbox"},domProps:{value:t.stuId,checked:Array.isArray(e.selectCheckBox)?e._i(e.selectCheckBox,t.stuId)>-1:e.selectCheckBox},on:{change:function(s){var a=e.selectCheckBox,n=s.target,r=!!n.checked;if(Array.isArray(a)){var c=t.stuId,o=e._i(a,c);n.checked?o<0&&(e.selectCheckBox=a.concat([c])):o>-1&&(e.selectCheckBox=a.slice(0,o).concat(a.slice(o+1)))}else e.selectCheckBox=r}}}),e._v(" "),s("label",{staticClass:"el-checkbox__inner",attrs:{for:"chk_"+t.stuId}})]):e._e(),s("span",{staticClass:"name"},[e._v(e._s(t.stuName))]),s("span",{staticClass:"number"},[e._v("学号 "+e._s(t.stuNo))]),1==e.handleStatus&&e.hasQx("teach:class:delStu")?s("span",{staticClass:"iconFont el-icon-delete",on:{click:function(s){e.onDeleteGroupMembers(t.stuId)}}}):e._e(),s("span",{staticClass:"iconFont el-icon-arrow-right",on:{click:function(s){e.onViewPersonInfo(t.stuId)}}})])})):e._e(),0==e.renderList.length?s("NotInfo",{attrs:{notClass:"暂无相关学生信息",defaultImg:"static/img/not-class-default.png"}}):e._e()],1),1==e.handleStatus&&e.hasQx("teach:class:editStu")?s("div",{staticClass:"addMatch-cont",on:{click:e.onAddMembers}},[e._m(0)]):e._e(),0==e.handleStatus&&e.renderList.length>0?s("FixedButton",{attrs:{buttonText:"确定"},on:{listenToChildEvent:e.onAddGroupNum}}):e._e(),1==e.handleStatus?s("ConfirmDialog",{attrs:{dialogTableVisible:e.deleteGroupDialog,confirmTitile:"提示",confirmText:"确定删除该学生？删除后数据将不可恢复",confirmTextButton:"删除",closeTextButton:"取消"},on:{determine:e.onDeterMine,closeConfirm:e.onCancelDel}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"add-btn"},[t("span",{staticClass:"el-icon-plus avatar-uploader-icon"}),t("span",[this._v("新增学生")])])}]};var i=s("VU/8")(o,u,!1,function(e){s("MIRU")},null,null);t.default=i.exports}});