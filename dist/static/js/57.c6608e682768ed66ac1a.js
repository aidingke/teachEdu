webpackJsonp([57],{"1iUn":function(t,e){},XYbf:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Xxa5"),c=s.n(a),i=s("exGp"),r=s.n(i),n=s("0Mti"),l=(s("yrlf"),{name:"AnsderDetail",data:function(){return{headTitle:"",edit:"",titile:"",qbDesc:"",startTime:"",endTime:"",score:"",totalNum:"",imgDialogVisible:!1,img_api:n.a.img_api,targetImg:"",pfTitle:"",tempTarget:"",tempScore:"",tempCont:"",scoreAll:"",examStatus:"",questType:"",statusM:"",subjectName:"",sublevel:"",form:{formScore:"",pContent:""},questId:"",qbId:"",examId:"",qcList:[],scoreA0:0,scoreA1:0,scoreA2:0,scoreA3:0,scoreA4:0,sinData:[],mulData:[],JudData:[],comData:[],DisData:[],every0:0,every1:0,every2:0,every3:0,every4:0,tempSc:"",allQuesNum:[]}},methods:{goBack:function(){this.$router.back(-1)},showImages:function(){this.targetImg=event.target.getAttribute("src"),this.imgDialogVisible=!0},currentIndex:function(t,e){if(t==e)return!1;if(t!=e){if(0==e)return!0;if(1==e)return!0}},getList:function(){var t=this;return r()(c.a.mark(function e(){var s,a,i,r,n,l,o,u,m,_,v,h,d,p,g,q,y,f,A,S,D;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.$route.query.stuId,a={qbId:t.qbId,examId:t.examId,stuId:s},i=[],r=[],n=[],l=[],o=[],u=[],e.next=4,t.$axios.getCommitExamInfo(a);case 4:if(m=e.sent,_=m.data.qcOptionList,v=m.data.qcStuList,2!=t.questType&&4!=t.questType){e.next=12;break}if(1!=t.statusM||2==Number(m.data.examStatus)){e.next=12;break}return t.dialog("老师暂未评分！"),t.$router.back(-1),e.abrupt("return",!1);case 12:t.titile=m.data.title,t.qbDesc=m.data.qcDesc,t.startTime=m.data.startTime,t.endTime=m.data.endTime,t.score=m.data.score,t.totalNum=m.data.orderNum,t.examStatus=m.data.examStatus,t.subjectName=m.data.subjectName,t.sublevel=m.data.level,t.qcList=m.data.qcList,t.qcList.forEach(function(t,e){var s={};s.qcId=t.qcId,s.qcDesc=t.qcDesc,s.orderNum=t.orderNum,s.type=t.type,s.qcPic=t.qcPic,s.qcAnswer=t.qcAnswer,s.qcScore=t.qcScore,s.arr=[],s.stuAnswer="",s.teachScore="",s.teachComment="",v.forEach(function(e,a){e.qcId==t.qcId&&(s.stuAnswer=e.stuAnswer,s.teachScore=e.teachScore,s.teachComment=e.teachComment)}),_.forEach(function(e,a){var c={};c.itemDesc=e.optionName,c.item=e.optionValue,c.qcId=e.qcId,e.qcId==t.qcId&&s.arr.push(c)}),i.push(s)}),i.forEach(function(t,e){0==t.type?r.push(t):1==t.type?n.push(t):2==t.type?l.push(t):3==t.type?o.push(t):4!=t.type||u.push(t)}),t.sinData=r,t.mulData=n,t.JudData=l,t.comData=o,t.DisData=u,h=0,d=0,p=0,g=0,q=0,y=[],[],f=[],A="",t.sinData.forEach(function(t,e){A=t.qcScore,t.qcAnswer=parseInt(t.qcAnswer),t.stuAnswer=parseInt(t.stuAnswer),t.qcAnswer===t.stuAnswer?h+=t.qcScore:t.qcScore=0}),t.every0=A,t.mulData.forEach(function(t,e){A=t.qcScore,y=t.qcAnswer.split("ψ"),f=t.stuAnswer.split("ψ"),t.arr.forEach(function(e,s){y[s].length>0&&("true"==y[s]?e.qcAnswer=!0:e.qcAnswer=!1),f[s].length>0&&("true"==f[s]?e.qcStAnswer=!0:e.qcStAnswer=!1),e.qcAnswer!=e.qcStAnswer&&(t.qcScore=0)}),d+=t.qcScore}),t.every1=A,t.JudData.forEach(function(t,e){A=t.qcScore,t.qcAnswer=parseInt(t.qcAnswer),t.stuAnswer=parseInt(t.stuAnswer),t.qcAnswer===t.stuAnswer?p+=t.qcScore:t.qcScore=0}),t.every2=A,t.comData.forEach(function(t,e){A=t.qcScore,t.teachScore&&(g+=Number(t.teachScore)),y=t.qcAnswer.split("ψ"),f=t.stuAnswer.split("ψ"),y.length>0&&y.forEach(function(e,s){if(e.length>0){var a={};f.length>0&&f.forEach(function(t,c){e.length>0&&s==c&&(a.stuAnswer=t)}),a.answersl=e,t.arr.push(a)}});var s=0;t.arr.forEach(function(t,e){""!=t.answersl&&void 0!=t.answersl||s++}),t.arr.splice(0,s)}),t.every3=A,console.log(t.comData),S=[],t.DisData.forEach(function(t,e){if(A=t.qcScore,t.teachScore&&(q+=Number(t.teachScore)),t.qcPic){S=t.qcPic.split("ψ");for(var s=[],a=0;a<S.length;a++)S[a].length>0&&(s[a]=S[a]);t.imgArr=s}}),t.every4=A,t.scoreA0=h,t.scoreA1=d,t.scoreA2=p,t.scoreA3=g,t.scoreA4=q,t.scoreAll=h+d+p+g+q,1!=Number(t.examStatus)&&0!=Number(t.examStatus)||void 0!=document.getElementById("myScoresAll")&&(document.getElementById("myScoresAll").innerHTML=t.scoreAll),D=0,t.sinData.length>0&&(D++,t.allQuesNum[0]=D),t.mulData.length>0&&(D++,t.allQuesNum[1]=D),t.JudData.length>0&&(D++,t.allQuesNum[2]=D),t.comData.length>0&&(D++,t.allQuesNum[3]=D),t.DisData.length>0&&(D++,t.allQuesNum[4]=D);case 55:case"end":return e.stop()}},e,t)}))()}},mounted:function(){this.qbId=this.$route.query.qbId,this.examId=this.$route.query.examId,this.statusM=1,this.getList(),this.questType=Number(this.$route.query.questType),0==this.questType?this.headTitle="日常练习":1==this.questType?this.headTitle="技能考证":2==this.questType?this.headTitle="考核":3==this.questType?this.headTitle="作业":4!=this.questType||(this.headTitle="比赛")}}),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"AnsderDetail"},[s("Header",{attrs:{title:t.headTitle},on:{goBack:t.goBack}}),t._v(" "),s("div",{staticClass:"headBox"},[s("h3",[t._v(t._s(t.titile))]),t._v(" "),s("p",{staticClass:"comCol mt",staticStyle:{height:"10px"}},[t.startTime&&t.endTime?[t._v("考试时间："+t._s(t.startTime)+" - "+t._s(t.endTime))]:t._e()],2),t._v(" "),s("div",{staticClass:"score mt"},[s("p",[s("span",{staticClass:"comCol comWeight mr"},[t._v(t._s(t.every0*t.sinData.length+t.every1*t.mulData.length+t.every2*t.JudData.length+t.every3*t.comData.length+t.every4*t.DisData.length))]),t._v(" "),s("span",{staticClass:"comCol comWeight"},[t._v(t._s(t.totalNum))])]),t._v(" "),t._m(0)]),t._v(" "),t.subjectName?s("p",{staticClass:"mt"},[t._v("\n\t\t\t\t科目："+t._s(t.subjectName)+"\n\t\t\t")]):t._e(),t._v(" "),t.sublevel?s("p",{staticClass:"mt"},[t._v("\n\t\t\t\t题目类别："+t._s(t.sublevel)+"\n\t\t\t")]):t._e(),t._v(" "),s("p",{staticClass:"mt"},[t._v("\n\t\t\t\t描述："+t._s(t.qbDesc)+"\n\t\t\t")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.questType||3==t.questType||4==t.questType,expression:"questType==2||questType==3||questType==4"}],staticClass:"scoresAll"},[s("span",{staticClass:"sc"},[0==t.examStatus||1==t.examStatus?[s("b",{staticStyle:{"font-size":"20px"},attrs:{id:"myScoresAll"}},[t._v("未批卷")])]:t._e(),t._v(" "),2==t.examStatus?[t._v(t._s(t.scoreAll))]:t._e()],2),t._v(" "),s("span",[t._v("总得分")])])]),t._v(" "),t.sinData.length>0?s("div",{staticClass:"selectBox Single"},[s("h3",{staticClass:"line"},[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(t.scoreA0)+"分")]),t._v("\t\n\t\t\t\t"+t._s(t.allQuesNum[0])+"、单选题（每题"+t._s(t.every0)+"分，合计"+t._s(t.every0*t.sinData.length)+"分）")]),t._v(" "),s("div",{staticClass:"contentBox"},t._l(t.sinData,function(e,a){return s("div",{key:a,staticClass:"timuBox"},[s("div",{staticClass:"timu"},[s("h4",[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(e.qcScore)+"分")]),t._v("\n\t\t\t\t\t\t\t"+t._s(a+1)+"、"+t._s(e.qcDesc)+"\n\t\t\t\t\t\t")]),t._v(" "),t._l(e.arr,function(a,c){return s("el-radio-group",{key:c,model:{value:e.qcAnswer,callback:function(s){t.$set(e,"qcAnswer",s)},expression:"item.qcAnswer"}},[s("el-radio",{class:{active:e.stuAnswer===c},attrs:{disabled:"",label:c}},[t._v(t._s(a.item)+"、"+t._s(a.itemDesc))])],1)})],2)])}))]):t._e(),t._v(" "),t.mulData.length>0?s("div",{staticClass:"selectBox"},[s("h3",{staticClass:"line"},[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(t.scoreA1)+"分")]),t._v("\n\t\t\t\t"+t._s(t.allQuesNum[1])+"、多选题下列题目中至少有2个及以上的正确答案，多选少选均不得分（每题"+t._s(t.every1)+"分，合计"+t._s(t.every1*t.mulData.length)+"分）")]),t._v(" "),s("div",{staticClass:"contentBox"},t._l(t.mulData,function(e,a){return s("div",{key:a,staticClass:"timuBox"},[s("div",{staticClass:"timu"},[s("h4",[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(e.qcScore)+"分")]),t._v("\n\t\t\t\t\t\t\t"+t._s(a+1)+"、"+t._s(e.qcDesc)+"\n\t\t\t\t\t\t")]),t._v(" "),t._l(e.arr,function(e,a){return s("el-checkbox-group",{key:a,model:{value:e.qcAnswer,callback:function(s){t.$set(e,"qcAnswer",s)},expression:"itecM.qcAnswer"}},[s("el-checkbox",{class:{active:!0===t.currentIndex(e.qcAnswer,e.qcStAnswer)},attrs:{disabled:"",label:e.qcId}},[t._v(t._s(e.item)+"、"+t._s(e.itemDesc)+" ")])],1)})],2)])}))]):t._e(),t._v(" "),t.JudData.length>0?s("div",{staticClass:"selectBox Single"},[s("h3",{staticClass:"line"},[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(t.scoreA2)+"分")]),t._v("\n\t\t\t\t"+t._s(t.allQuesNum[2])+"、判断题（每题"+t._s(t.every2)+"分，合计"+t._s(t.every2*t.JudData.length)+"分）")]),t._v(" "),s("div",{staticClass:"contentBox"},t._l(t.JudData,function(e,a){return s("div",{key:a,staticClass:"timuBox"},[s("div",{staticClass:"timu"},[s("h4",[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(e.qcScore)+"分")]),t._v("\n\t\t\t\t\t\t\t"+t._s(a+1)+"、"+t._s(e.qcDesc)+"\n\t\t\t\t\t\t")]),t._v(" "),t._l(e.arr,function(a,c){return s("el-radio-group",{key:c,model:{value:e.qcAnswer,callback:function(s){t.$set(e,"qcAnswer",s)},expression:"item.qcAnswer"}},[s("el-radio",{class:{active:e.stuAnswer===c},attrs:{disabled:"",label:c}},[t._v(t._s(a.item)+"、"+t._s(a.itemDesc))])],1)})],2)])}))]):t._e(),t._v(" "),t.comData.length>0?s("div",{staticClass:"selectBox"},[s("h3",{staticClass:"line"},[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(t.scoreA3)+"分")]),t._v("\n\t\t\t\t"+t._s(t.allQuesNum[3])+"、填空题（每题"+t._s(t.every3)+"分，合计"+t._s(t.every3*t.comData.length)+"分）")]),t._v(" "),s("div",{staticClass:"contentBox"},t._l(t.comData,function(e,a){return s("div",{key:a,staticClass:"timuBox"},[s("div",{staticClass:"timu line"},[s("h4",[s("span",{staticClass:"teachScore",staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[e.teachScore?[t._v(t._s(Number(e.teachScore))+"分")]:t._e()],2),t._v("\n\t\t\t\t\t\t\t"+t._s(a+1)+"."+t._s(e.qcDesc)+"\n\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"continputBox"},[t._l(e.arr,function(e,a){return s("p",{key:a},[e.answersl?[s("span",[t._v("( "+t._s(a+1)+" )")]),t._v(" "),s("span",{staticClass:"trueColor",staticStyle:{color:"#999"}},[s("b",{staticStyle:{color:"#000"}},[t._v(t._s(e.stuAnswer))]),t._v(" （正确答案："+t._s(e.answersl)+"） ")])]:t._e()],2)}),t._v(" "),s("p",{staticClass:"teachComment"},[e.teachComment?[t._v("评语："+t._s(e.teachComment))]:t._e()],2)],2)])])}))]):t._e(),t._v(" "),t.DisData.length>0?s("div",{staticClass:"selectBox"},[s("h3",{staticClass:"line"},[s("span",{staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[t._v(t._s(t.scoreA4)+"分")]),t._v("\n\t\t\t\t"+t._s(t.allQuesNum[4])+"、论述题（每题"+t._s(t.every4)+"分，合计"+t._s(t.every4*t.DisData.length)+"分）\n\t\t\t")]),t._v(" "),s("div",{staticClass:"contentBox"},t._l(t.DisData,function(e,a){return s("div",{key:a,staticClass:"timuBox"},[s("div",{staticClass:"timu line"},[s("h4",[s("span",{staticClass:"teachScore",staticStyle:{float:"right",color:"#e7a848","margin-right":"1%"}},[e.teachScore?[t._v(t._s(Number(e.teachScore))+"分")]:t._e()],2),t._v("\n\t\t\t\t\t\t\t"+t._s(a+1)+"."+t._s(e.qcDesc)+"\n\t\t\t\t\t\t")]),t._v(" "),s("div",{staticClass:"continputBox"},[s("div",t._l(e.imgArr,function(e,a){return s("span",{key:a,staticStyle:{"vertical-align":"top",display:"inline-block","margin-right":"0.5%"}},[s("img",{staticStyle:{width:"100px"},attrs:{src:t.img_api+e},on:{click:t.showImages}})])})),t._v(" "),s("p",{staticStyle:{"font-size":"14px"}},[s("span",{staticStyle:{color:"#000"}},[t._v("答案：")]),t._v(t._s(e.stuAnswer))]),t._v(" "),s("p",{staticStyle:{"font-size":"14px",color:"#999"}},[s("span",[t._v("（正确答案：")]),t._v(t._s(e.qcAnswer)+"）")]),t._v(" "),s("p",{staticClass:"teachComment"},[e.teachComment?[t._v("评语："+t._s(e.teachComment))]:t._e()],2)])])])}))]):t._e(),t._v(" "),s("el-dialog",{attrs:{title:"查看图片",visible:t.imgDialogVisible,width:"80%",center:""},on:{"update:visible":function(e){t.imgDialogVisible=e}}},[s("div",[s("img",{staticStyle:{width:"100%"},attrs:{src:t.targetImg}})]),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(e){t.imgDialogVisible=!1}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"mr"},[this._v("卷面分数")]),this._v(" "),e("span",[this._v("题目总数")])])}]};var u=s("VU/8")(l,o,!1,function(t){s("1iUn")},null,null);e.default=u.exports}});