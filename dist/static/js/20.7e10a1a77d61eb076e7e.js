webpackJsonp([20],{CWIc:function(t,i){},HCZC:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("Xxa5"),a=e.n(s),n=e("exGp"),r=e.n(n),o=e("bOdI"),u=e.n(o),c=e("0b0c"),l=e("0Mti"),d={name:"teach-training",components:{SuccessTip:c.default},data:function(){var t;return t={tabValue:1,nameNumber:6,showAdd:!1,userType:"0",resData:{},trainId:"",trainStuNum:0,isStudent:!1,type:1,dialogVisible:!1,tip:"报名成功",dialogTableVisible:!1},u()(t,"type",!1),u()(t,"imgUrl",l.a.img_api),u()(t,"hint","详情页"),u()(t,"registPermission",!1),t},methods:{openAddInfo:function(){this.showAdd=!0},ViewStudents:function(){this.$router.push({path:"TeachTrainDetails",query:{trainId:this.trainId}})},done:function(){this.dialogTableVisible=!1,this.getList()},goBack:function(){this.$router.back(-1)},getList:function(){var t=this;return r()(a.a.mark(function i(){var e,s;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e={trainId:t.trainId},i.next=3,t.$axios.getTeachTrainDetail(e);case 3:if(1e3!==(s=i.sent).code){i.next=10;break}t.resData=s.data,t.resData.trainStuNum=t.trainStuNum,t.resData.pic=s.data.pic.split(","),i.next=15;break;case 10:if(1100!==s.code){i.next=14;break}return i.abrupt("return");case 14:t.dialog(s.message);case 15:case"end":return i.stop()}},i,t)}))()},stuTrainJoin:function(){var t=this;return r()(a.a.mark(function i(){var e;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.$axios.stuTrainJoin({trainId:t.resData.trainId});case 2:1e3===(e=i.sent).code?(t.dialogVisible=!1,t.dialogTableVisible=!0):t.dialog(e.message);case 4:case"end":return i.stop()}},i,t)}))()}},created:function(){this.userType=localStorage.getItem("userType");var t=this.$route.query;t.trainId&&(this.trainId=t.trainId),t.trainStuNum&&(this.trainStuNum=t.trainStuNum),t.isStudent&&("false"==t.isStudent||0==t.isStudent?this.isStudent=!1:"true"!=t.isStudent&&1!=t.isStudent||(this.isStudent=!0)),this.type=!1,1===t.type&&(this.type=!0),"1"===this.userType?this.hasQx("stu:train:join")?(this.registPermission=!0,this.type||(this.registPermission=!1)):this.registPermission=!1:this.userType},mounted:function(){this.getList()}},p={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"teach-training"},[e("Header",{attrs:{title:"技术培训"},on:{goBack:t.goBack}}),t._v(" "),t.resData?e("div",{staticClass:"passBox"},[e("div",{staticClass:"selectBox"},[e("div",{staticClass:"passBox"},[e("h3",{staticClass:"head"},[t._v(t._s(t.resData.trainTitle))]),t._v(" "),e("p",{staticClass:"comCol"},[t._v("培训时间："+t._s(t.resData.startTime)+" "+t._s(t.resData.endTime))]),t._v(" "),e("p",{staticClass:"cimg"},t._l(t.resData.pic,function(i,s){return e("img",{key:s,attrs:{src:t.imgUrl+i}})})),t._v(" "),e("p",{staticClass:"ctit"},[t._v("\n\t\t\t\t\t\t描述："+t._s(t.resData.trainDesc)+"\n\t\t\t\t\t")]),t._v(" "),e("div",{staticClass:"kaoshiScore"},[t.isStudent?["0"===t.resData.isTrain?[t.registPermission?e("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:function(i){t.dialogVisible=!0}}},[t._v("报名培训")]):t._e()]:t._e(),t._v(" "),"1"===t.resData.isTrain?[t.registPermission?e("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary",disabled:""},on:{click:function(i){t.dialogVisible=!0}}},[t._v("已报名")]):t._e()]:t._e()]:t.isStudent?[e("span",{staticClass:"default"},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.resData.trainStuNum)+"\n\t\t\t\t\t\t\t\t"),e("p",[t._v("报名人数")])])]:t._e()],2)])])]):e("div",{staticClass:"passBox"},[t._v("暂无数据")]),t._v(" "),t.hasQx("teach:train:stuList")?e("el-button",{directives:[{name:"show",rawName:"v-show",value:!t.isStudent,expression:"!isStudent"}],staticClass:"seeStu",attrs:{type:"primary"},on:{click:t.ViewStudents}},[t._v("查看报名学生 ( "+t._s(t.trainStuNum)+" )")]):t._e(),t._v(" "),e("el-dialog",{attrs:{title:"报名培训",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(i){t.dialogVisible=i}}},[e("span",[t._v("确定要报名参加培训吗")]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:t.stuTrainJoin}},[t._v("报名")]),t._v(" "),e("el-button",{on:{click:function(i){t.dialogVisible=!1}}},[t._v("取 消")])],1)]),t._v(" "),e("SuccessTip",{attrs:{dialogTableVisible:t.dialogTableVisible,tip:t.tip,hint:t.hint},on:{successDone:t.done}})],1)},staticRenderFns:[]};var h=e("VU/8")(d,p,!1,function(t){e("CWIc")},null,null);i.default=h.exports}});