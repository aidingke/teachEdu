webpackJsonp([17],{Zpr0:function(e,a){},z763:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=t("Xxa5"),n=t.n(r),s=t("exGp"),i=t.n(s),l={name:"password",data:function(){return{dialogTableVisible:!1,time:3,sendMsgDisabled:!1,arr:[{name:"旧密码",placeholder:"旧密码",val:""},{name:"新密码",placeholder:"至少6位新密码",val:""},{name:"验证新密码",placeholder:"验证新密码",val:""}]}},methods:{goBack:function(){this.$router.back(-1)},errorTip:function(e){this.$alert(e,"提示",{confirmButtonText:"知道了",callback:function(e){}})},sumbit:function(){var e=this;return i()(n.a.mark(function a(){var t,r,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=/^[a-zA-Z\d]{6,12}$/,e.arr[0].val){a.next=6;break}return e.dialog("请填写旧密码"),a.abrupt("return",!1);case 6:if(t.test(e.arr[0].val)){a.next=9;break}return e.dialog("请输入6到12位字母或数字"),a.abrupt("return",!1);case 9:if(e.arr[1].val){a.next=14;break}return e.dialog("请填写新密码"),a.abrupt("return",!1);case 14:if(t.test(e.arr[1].val)){a.next=17;break}return e.dialog("请输入6到12位字母或数字"),a.abrupt("return",!1);case 17:if(e.arr[2].val){a.next=22;break}return e.dialog("请填写验证新密码"),a.abrupt("return",!1);case 22:if(t.test(e.arr[2].val)){a.next=25;break}return e.dialog("请输入6到12位字母或数字"),a.abrupt("return",!1);case 25:if(!(e.arr[2].val.split("").length<6)){a.next=28;break}return e.dialog("请填写至少六位的新密码"),a.abrupt("return",!1);case 28:if(e.arr[1].val==e.arr[2].val){a.next=31;break}return e.dialog("验证新密码与新密码不一致"),a.abrupt("return",!1);case 31:return r={oldPwd:e.$md5(e.arr[0].val).toUpperCase(),newPwd:e.$md5(e.arr[1].val).toUpperCase(),confirmPwd:e.$md5(e.arr[2].val).toUpperCase()},a.next=34,e.$axios.changePwd(r);case 34:1e3===(s=a.sent).code?e.dialogTableVisible=!0:e.dialog(s.message);case 36:case"end":return a.stop()}},a,e)}))()}},watch:{dialogTableVisible:function(e){if(e){var a=this;a.sendMsgDisabled=!0;var t=window.setInterval(function(){a.time--<=1&&(a.time=3,window.clearInterval(t),a.dialogTableVisible=!1,a.$router.push({path:"/PerCenter"}))},1e3)}}}},o={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"password"},[t("Header",{attrs:{title:"修改密码"},on:{goBack:e.goBack}}),t("div",{staticClass:"content"},e._l(e.arr,function(a){return t("div",{staticClass:"arow"},[t("ul",[t("li",[e._v(e._s(a.name)+" "),t("span",[e._v("*")])]),t("li",[t("el-input",{attrs:{type:"password",name:"password",placeholder:a.placeholder},model:{value:a.val,callback:function(t){e.$set(a,"val",t)},expression:"items.val"}})],1)])])})),t("FixedButton",{attrs:{buttonText:"提交"},on:{listenToChildEvent:e.sumbit}}),t("div",{staticClass:"success-dialog"},[t("el-dialog",{attrs:{visible:e.dialogTableVisible,center:"center"},on:{"update:visible":function(a){e.dialogTableVisible=a}}},[t("div",{staticClass:"content"},[t("img",{attrs:{src:"static/img/success.png"}}),t("div",{staticClass:"name"},[e._v("修改密码成功")]),e.sendMsgDisabled?t("div",{staticClass:"time"},[e._v(e._s(e.time+"s回到个人中心界面"))]):e._e()])])],1)],1)},staticRenderFns:[]};var c=t("VU/8")(l,o,!1,function(e){t("Zpr0")},null,null);a.default=c.exports}});