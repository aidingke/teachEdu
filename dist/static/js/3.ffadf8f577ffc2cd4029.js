webpackJsonp([3],{BO1k:function(e,a,t){e.exports={default:t("fxRn"),__esModule:!0}},UGZZ:function(e,a){},fxRn:function(e,a,t){t("+tPU"),t("zQR9"),e.exports=t("g8Ux")},g8Ux:function(e,a,t){var i=t("77Pl"),n=t("3fs2");e.exports=t("FeBl").getIterator=function(e){var a=n(e);if("function"!=typeof a)throw TypeError(e+" is not iterable!");return i(a.call(e))}},lO7g:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("BO1k"),n=t.n(i),s=t("Xxa5"),o=t.n(s),r=t("exGp"),c=t.n(r),l=t("0Mti"),g={name:"Home",data:function(){return{userType:"",img_api:l.a.img_api+"ad/",bannerList:[],carouselPlay:"",limitFlag:"",isMac:"",phpToken:"",androidId:"f6a9027f4e9d4c2019f28b55983db501",iosId:"99e40ec93f2d7440761769ccf5a382bc",iosFlag:null,spanRow:!1,imgRow:!1,modules:[{path:"DataDiagnosis",image:"static/img/data-diagnosis.png",name:"数据诊断",qx:"stu:dig:list"},{path:"SocialPractice",image:"static/img/social-practice.png",name:"社会实践",qx:"comm:php:token",isLimit:!1},{path:"TrainExamIndex",image:"static/img/training-and-assessment.png",name:"培训与考核",qx:"teach:train:list,stu:train:list"},{path:"DigitalTeachingResources",image:"static/img/digital-teaching-resources.png",name:"数字化教学资源",qx:"comm:php:token"},{path:"MatchManage",image:"static/img/match-manage.png",name:"比赛管理",qx:"teach:match:list,stu:match:list"},{path:"ClassTableData",image:"static/img/class-manage.png",name:"课程管理",qx:"teach:course:list"},{path:"SelectClass",image:"static/img/class-course.png",name:"班级管理",qx:"teach:class:list"},{path:"TeacherManage",image:"static/img/teachers-manage.png",name:"师资管理",qx:"teach:list"},{path:"VideoList",image:"static/img/video-manage.png",name:"视频管理",qx:"comm:video:list"},{path:"ClassTable",image:"static/img/teacher-course.png",name:"我的课程",qx:"teach:course:teachCourseList"},{path:"SubjectManage",image:"static/img/subject-manage.png",name:"科目管理",qx:"teach:subject:edit"},{path:"RoleManage",image:"static/img/role-manage.png",name:"角色管理",qx:"teach:role:list"}]}},computed:{isShowBanner:function(){var e=JSON.parse(sessionStorage.getItem("bannerList"));return 0!==e.length&&("1"===this.userType&&e.length>0&&(this.bannerList=e,!0))}},methods:{getPHPToken:function(e){var a=this;return c()(o.a.mark(function t(){var i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(e,"path"),"SocialPractice"!=e&&"DigitalTeachingResources"!=e){t.next=7;break}if("1"!==a.userType){t.next=7;break}return t.next=5,a.$axios.getPHPToken({vtrId:!0===a.iosFlag?a.iosId:a.androidId});case 5:if(1e3===(i=t.sent).code){a.phpToken=i.data.phpToken,localStorage.setItem("phpToken",a.phpToken);try{a.iosFlag?window.location="objc://doFunc/loginCallBack/?username="+a.userName+"&password="+a.password+"&token="+a.phpToken:android.orderlist("loginCallBack",a.phpToken)}catch(e){console.log(e)}}else a.dialog(i.message);case 7:a.$router.push(e);case 8:case"end":return t.stop()}},t,a)}))()},isLimit:function(){if(0==JSON.parse(sessionStorage.getItem("bannerList")).length)return!1;this.limitFlag=!0,this.beginCarouse();var e=!0,a=!1,t=void 0;try{for(var i,s=n()(this.modules);!(e=(i=s.next()).done);e=!0){var o=i.value;if("SocialPractice"==o.path)return void(this.limitFlag&&(o.isLimit=!0))}}catch(e){a=!0,t=e}finally{try{!e&&s.return&&s.return()}finally{if(a)throw t}}},beginCarouse:function(){var e=this;this.carouselPlay=setInterval(function(){e.$refs.carousel.next()},3e3)},goBannerUrl:function(e,a){e&&this.$router.push({path:"/Advertisement",query:{adTitle:a,adUrl:e}})}},mounted:function(){var e=this;this.userType=localStorage.getItem("userType"),this.isMac=localStorage.getItem("isMac"),this.userName=sessionStorage.getItem("userName"),this.password=sessionStorage.getItem("password"),this.iosFlag=this.isIos(),this.isLimit(),"1"===this.userType&&(this.modules=this.modules.filter(function(e,a){return"VideoList"!=e.path})),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){180!==window.orientation&&0!==window.orientation||(console.log("竖屏状态！"),e.spanRow=!1,e.imgRow=!1),90!==window.orientation&&-90!==window.orientation||(console.log("横屏状态！"),e.spanRow=!0,e.imgRow=!0)},!1)},beforeRouteLeave:function(e,a,t){this.carouselPlay&&clearInterval(this.carouselPlay),t()}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"home"},[t("Header",{attrs:{title:"首页"}}),t("div",{staticClass:"container"},[e.isShowBanner?t("div",{staticClass:"banner-container"},[t("el-carousel",{ref:"carousel",attrs:{interval:0,arrow:"never"}},e._l(e.bannerList,function(a,i){return t("el-carousel-item",{key:i},[t("div",{staticClass:"banner"},[t("img",{staticClass:"banner-img",attrs:{src:e.img_api+a.bannerPic},on:{click:function(t){e.goBannerUrl(a.bannerUrl,a.bannerName)}}})])])}))],1):e._e(),t("div",{staticClass:"col-wrap"},e._l(e.modules,function(a){return e.hasQx(a.qx)&&!a.isLimit?t("div",{staticClass:"col",on:{click:function(t){e.getPHPToken(a.path)}}},[t("div",{staticClass:"col-item"},[t("a",{attrs:{href:"javascript:void(0)"}},[t("img",{class:{imgRow:e.imgRow},attrs:{src:a.image}})]),t("span",{class:{spanRow:e.spanRow}},[e._v(e._s(a.name))])])]):e._e()}))])],1)},staticRenderFns:[]};var u=t("VU/8")(g,m,!1,function(e){t("UGZZ")},null,null);a.default=u.exports}});