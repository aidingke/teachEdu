webpackJsonp([72],{A35O:function(e,t){},pqxy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),r=a("exGp"),n=a.n(r),c={name:"IntegratedQuery",data:function(){return{tabValue:"",keyword:"",selectCarInfo:{car_brand:"",icoName:"ad_ico",car_line:"",car_produceYear:"",car_cc:"",line_id:""},renderList:[],cacheRenderList:[],checkDatas:[{icoName:"oilMessage",title:"机油",path:"OilMessage",type:"oil"},{icoName:"waveBoxOilMessage",title:"波箱油",path:"WaveBoxOilMessage",type:"gearbox"},{icoName:"batteryMessage",title:"电池型号",path:"BatteryMessage",type:"cell"},{icoName:"antifreeze",title:"防冻液",path:"Antifreeze",type:"antifreeze"},{icoName:"resetTutorial",title:"复位教程",path:"ResetTutorial",type:"reset_tutorial"},{icoName:"maintenanceCase",title:"维修案例",path:"MaintenanceCase",type:"repair_case"}],menuList:{oil:"",gearbox:"",cell:"",antifreeze:"",circuit:"",reset_tutorial:"",repair_case:""}}},methods:{goBack:function(){this.$router.back(-1),sessionStorage.setItem("integratedQueryTabValue","")},getCircuitList:function(){var e=this;return n()(s.a.mark(function t(){var a,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).line_id=e.selectCarInfo.line_id,a.year=e.selectCarInfo.car_produceYear,t.next=5,e.$axios.getCircuitList(a);case 5:0==(i=t.sent).error_code&&(e.renderList=i.data.list,e.cacheRenderList=i.data.list);case 7:case"end":return t.stop()}},t,e)}))()},tabChange:function(e){this.tabValue=e,sessionStorage.setItem("integratedQueryTabValue",e)},onSearchBtn:function(){var e=this;""==this.keyword?this.renderList=this.cacheRenderList:0==this.cacheRenderList.length&&0==this.renderList.length?(this.renderList=[],this.cacheRenderList=[]):this.renderList=this.cacheRenderList.filter(function(t,a){return t.title.indexOf(e.keyword)>-1})},onCircuitDetails:function(e){this.$router.push({path:"CircuitDetails?id="+e})},getHelperMenu:function(){var e=this;return n()(s.a.mark(function t(){var a,i,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(a={}).token=localStorage.getItem("phpToken"),a.car_brand=e.selectCarInfo.car_brand,a.car_line=e.selectCarInfo.car_line,a.car_produceYear=e.selectCarInfo.car_produceYear,a.car_cc=e.selectCarInfo.car_cc,a.line_id=e.selectCarInfo.line_id,t.next=9,e.$axios.getHelperMenu(a);case 9:i=t.sent,2e4==(r=i.code)?(e.menuList=i.data,e.controlMenu(i.data)):40100==r||e.dialog(i.msg);case 12:case"end":return t.stop()}},t,e)}))()},controlMenu:function(e){var t=e.reset_tutorial;this.checkDatas=this.checkDatas.filter(function(e,a){return"reset_tutorial"!=e.type||"reset_tutorial"==e.type&&1==t})},onLinkDetails:function(e){for(var t in this.menuList)t==e.type&&(0==this.menuList[t]?this.dialog("暂无相关数据"):this.$router.push({path:e.path}))}},mounted:function(){sessionStorage.getItem("selectCarInfo")&&(this.tabValue=sessionStorage.getItem("integratedQueryTabValue")||1,this.selectCarInfo=JSON.parse(sessionStorage.getItem("selectCarInfo")),this.getCircuitList(),this.getHelperMenu())}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"integratedQuery"},[a("Header",{attrs:{title:"综合查询"},on:{goBack:e.goBack}}),a("div",{staticClass:"tab-cont"},[a("div",{staticClass:"tab",class:1==e.tabValue?"on":"",on:{click:function(t){e.tabChange(1)}}},[e._v("电路图")]),a("div",{staticClass:"tab",class:2==e.tabValue?"on":"",on:{click:function(t){e.tabChange(2)}}},[e._v("流体数据")])]),1==e.tabValue?[a("div",{staticClass:"group-div"},[a("el-input",{key:"serachCarKeyWord",staticClass:"input-with-select",attrs:{placeholder:"请输入线路图关键字","prefix-icon":"el-icon-search"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.onSearchBtn},slot:"append"},[e._v("搜索")])],1)],1),e.renderList.length>0?a("ul",{staticClass:"circuit-list"},e._l(e.renderList,function(t,i){return a("li",{staticClass:"circuit-item",on:{click:function(a){e.onCircuitDetails(t.id)}}},[a("div",{staticClass:"circuit-title"},[e._v(e._s(t.title))]),a("div",{staticClass:"circuit-img"},[a("img",{attrs:{src:"static/img/circuit-img.png"}}),a("span",[e._v(e._s(t.count)+"张")])])])})):e._e(),0===e.renderList.length?a("NotInfo",{attrs:{notClass:"暂无相关数据",defaultImg:"static/img/not-data-default.png"}}):e._e()]:e._e(),2==e.tabValue?[a("ul",{staticClass:"serviceBook-list"},[a("li",{staticClass:"serviceBook-item"},[a("img",{staticClass:"logoImg",attrs:{src:"https://www.wanguoqiche.com/files/logo/"+e.selectCarInfo.icoName+".jpg"}}),a("span",{staticClass:"title"},[e._v(e._s(e.selectCarInfo.car_brand+" "+e.selectCarInfo.car_line+" "+e.selectCarInfo.car_produceYear)+" 款 流体数据查询")])])]),a("div",{staticClass:"check-data"},[e._m(0),a("div",{staticClass:"bd-div"},e._l(e.checkDatas,function(t,i){return a("div",{key:i,staticClass:"item",on:{click:function(a){e.onLinkDetails(t)}}},[a("img",{attrs:{src:"static/img/"+t.icoName+".png"}}),a("span",[e._v(e._s(t.title))])])}))])]:e._e()],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hd-div"},[t("img",{attrs:{src:"static/img/dataCheck.png"}}),t("span",[this._v("资料查询")])])}]};var l=a("VU/8")(c,o,!1,function(e){a("A35O")},null,null);t.default=l.exports}});