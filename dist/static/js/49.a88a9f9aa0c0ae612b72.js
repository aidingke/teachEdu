webpackJsonp([49],{KnbH:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Xxa5"),s=i.n(a),o=i("woOf"),n=i.n(o),r=i("exGp"),p=i.n(r),c=i("0Mti"),d={name:"VideoList",data:function(){return{imgUrl:c.a.img_api+"cover/",videoTypeList:[{videoType:0,sortName:"软件使用"},{videoType:1,sortName:"硬件使用"},{videoType:2,sortName:"诊断及拆装"},{videoType:3,sortName:"培训"},{videoType:4,sortName:"项目营销"}],videoTypeList_pc:[{videoType:0,sortName:"软件使用"},{videoType:1,sortName:"硬件使用"}],sortTypeList:[{sortType:0,rankName:"综合排序"},{sortType:1,rankName:"最新发布"},{sortType:2,rankName:"播放最多"}],postData:{videoName:"",videoType:[],sortType:"0",pageNo:1,pageSize:12},pageSizes:[12,24,36,48],renderList:[],total:null}},methods:{goBack:function(){this.$router.push({path:"Home"})},getVideoList:function(){var t=this;return p()(s.a.mark(function e(){var i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(i=n()({},t.postData)).videoType=i.videoType.toString(),e.next=4,t.$axios.getVideoList(i);case 4:a=e.sent,console.log(a),1e3==a.code?(t.renderList=a.data.dataList,t.total=a.data.total):t.renderList=[];case 7:case"end":return e.stop()}},e,t)}))()},onSearchHandle:function(){if(this.postData.pageNo=1,""==this.postData.videoName)return this.dialog("请输入关键字"),!1;this.getVideoList()},onLinkDetails:function(t,e){if(!this.hasQx("comm:video:detail"))return this.dialog("您无权进行该操作"),!1;this.$router.push({path:"./VideoDetails?videoId="+t,query:{imgUrl:this.imgUrl+e}})},onChangeSort:function(){this.postData.pageNo=1,this.getVideoList()},onChangeRank:function(t){this.postData.sortType=t,this.getVideoList()},handleSizeChange:function(t){this.postData.pageNo=1,this.postData.pageSize=t,this.getVideoList()},currentChange:function(t){this.postData.pageNo=t,this.getVideoList()},isLimit:function(){if("pc"!==this.isDevice())return!1;this.videoTypeList=this.videoTypeList_pc}},mounted:function(){this.getVideoList(),this.isLimit()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"videoList"},[i("Header",{attrs:{title:"视频"},on:{goBack:t.goBack}}),i("div",{staticClass:"group-div"},[i("el-input",{staticClass:"input-with-select",attrs:{placeholder:"视频关键字","prefix-icon":"el-icon-search"},model:{value:t.postData.videoName,callback:function(e){t.$set(t.postData,"videoName",e)},expression:"postData.videoName"}},[i("el-button",{attrs:{slot:"append"},on:{click:t.onSearchHandle},slot:"append"},[t._v("搜索")])],1)],1),i("div",{staticClass:"sort-div"},[i("div",{staticClass:"sort-title"},[t._v("视频类别")]),t._v(" "),i("el-checkbox-group",{on:{change:t.onChangeSort},model:{value:t.postData.videoType,callback:function(e){t.$set(t.postData,"videoType",e)},expression:"postData.videoType"}},t._l(t.videoTypeList,function(e,a){return i("el-checkbox",{key:e.videoType,attrs:{label:e.videoType}},[t._v(t._s(e.sortName))])}))],1),i("div",{staticClass:"sort-div"},[i("div",{staticClass:"sort-title"},[t._v("排序")]),i("div",{staticClass:"rank-box"},t._l(t.sortTypeList,function(e,a){return i("span",{key:e.sortType,staticClass:"rank-item",class:e.sortType==t.postData.sortType?"active":"",on:{click:function(i){t.onChangeRank(e.sortType)}}},[t._v(" "+t._s(e.rankName))])}))]),t.renderList.length>0?i("div",{staticClass:"sortList-div"},[i("el-row",t._l(t.renderList,function(e,a){return i("el-col",{key:e.videoId,attrs:{span:6}},[i("div",{staticClass:"item-div",on:{click:function(i){t.onLinkDetails(e.videoId,e.videoPic)}}},[i("div",{staticClass:"box-img"},[i("img",{attrs:{src:t.imgUrl+e.videoPic}})]),i("p",{staticClass:"video-name"},[t._v(t._s(e.videoName))]),i("p",{staticClass:"num"},[i("span",[t._v(t._s(e.playNum)+"个播放量")])]),i("p",{staticClass:"num"},[i("span",[t._v(t._s(e.videoTime))])]),i("p",{staticClass:"price"},[t._v(t._s(e.videoPrice>0?e.videoPrice+"元":"免费"))])])])})),t._v(" "),t.total>t.postData.pageSize?i("el-pagination",{staticClass:"page-div",attrs:{total:t.total,"current-page":t.postData.pageNo,"page-size":t.postData.pageSize,"page-sizes":t.pageSizes,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":t.handleSizeChange,"current-change":t.currentChange,"update:currentPage":function(e){t.$set(t.postData,"pageNo",e)}}}):t._e()],1):t._e(),0==t.renderList.length?i("NotInfo",{attrs:{notClass:"暂无相关数据",defaultImg:"static/img/not-data-default.png"}}):t._e()],1)},staticRenderFns:[]};var v=i("VU/8")(d,l,!1,function(t){i("oxab")},null,null);e.default=v.exports},oxab:function(t,e){}});