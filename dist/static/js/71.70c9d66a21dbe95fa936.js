webpackJsonp([71],{"1LYr":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Xxa5"),s=i.n(a),r=i("exGp"),n=i.n(r),o={name:"VideoDetails",data:function(){return{renderObj:{videoTime:"",videoName:"",videoUrl:"",videoDesc:"",playNum:""},player:null,payUrl:"",payStatus:"",imgUrl:"",isPlayStart:!1}},computed:{isIframe:function(){return"0"===this.payStatus},flag:function(){return"0"!==this.payStatus&&!0!==this.isPlayStart},headerLen:function(){return!(document.querySelectorAll(".header").length>1)}},methods:{goBack:function(){this.$router.push({path:"/VideoList"})},getVideoDetail:function(){var e=this;return n()(s.a.mark(function t(){var i,a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(i={}).videoId=e.$route.query.videoId,i.frontUrl=window.location.href,t.next=5,e.$axios.getVideoDetail(i);case 5:1e3==(a=t.sent).code?(e.renderObj=a.data,e.payUrl=a.data.payUrl,e.payStatus=a.data.payStatus):e.dialog(a.message);case 7:case"end":return t.stop()}},t,e)}))()},playering:function(e,t){var i=this;this.$nextTick(function(){i.player=new Aliplayer({id:"J_prismPlayer",autoplay:!0,width:"100%",height:"100%",playsinline:!0,vid:e,playauth:t,useFlashPrism:!0})})},handleVideoClick:function(){console.log(this.isDevice()),this.isPlayStart=!0,"pc"!==this.isDevice()?this.isIos()?window.location="objc://doFunc/alPlayer/"+this.renderObj.videoUrl+"/"+encodeURIComponent(this.renderObj.playAuth):this.isIos()||android.orderlist("alPlayer",this.renderObj.videoUrl,this.renderObj.playAuth):this.playering(this.renderObj.videoUrl,this.renderObj.playAuth)}},mounted:function(){this.getVideoDetail()},created:function(){if(!document.getElementById("prismH5")){var e=document.createElement("script");e.src="https://g.alicdn.com/de/prismplayer/2.3.0/aliplayer-min.js",e.id="prismH5",document.body.appendChild(e)}this.imgUrl=this.$route.query.imgUrl}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"videoDetails"},[e.headerLen?i("Header",{attrs:{title:"视频详情"},on:{goBack:e.goBack}}):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"img",on:{click:e.handleVideoClick}},[i("img",{attrs:{src:e.imgUrl}}),e._m(0)]),e.isIframe?i("iframe",{attrs:{src:e.payUrl,width:"100%",height:"100%"}}):e._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isPlayStart,expression:"isPlayStart"}],staticClass:"videoConts"},[i("div",{staticClass:"prism-player",attrs:{id:"J_prismPlayer"}})]),e.isIframe?e._e():i("div",{staticClass:"videoInfo"},[i("h3",[e._v(e._s(e.renderObj.videoName))]),i("p",{staticClass:"num"},[i("span",[e._v(e._s(e.renderObj.playNum)+"个播放量 ")]),i("span",[e._v(e._s(e.renderObj.videoTime))])]),i("div",{staticClass:"videoDesc"},[i("strong",[e._v("视频简介")]),i("div",{staticClass:"descConts"},[e._v(e._s(e.renderObj.videoDesc))])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"prism-big-play-btn pause",attrs:{id:"J_prismPlayer_component_C2090888-EC27-42F9-9D7E-6309DB4C9F5E"}},[t("div",{staticClass:"outter",staticStyle:{"/* display":"none"}})])}]};var d=i("VU/8")(o,l,!1,function(e){i("TeE0")},null,null);t.default=d.exports},TeE0:function(e,t){}});